import{_ as k}from"./PageContainer-g3Xq4fWS.js";import{u as w,r as m,o as I,c as U,b as l,d as e,f as x,bL as y,E as C}from"./index-emjJvSev.js";import{a as B,E as R}from"./el-col-DIjoE-t_.js";import{E as q,a as F}from"./el-form-item-DMk5JWWu.js";import{E as N}from"./_plugin-vue_export-helper-BNTiEJfs.js";import{E as S}from"./el-input-B6-11vVw.js";import"./error-BOtGHGig.js";import"./_baseClone-DkDu17N4.js";const G=Object.assign({name:"UserInfo"},{__name:"info",setup(j){const{user:{username:u,nickname:i,email:p,id:_},getUserInfo:d}=w(),a=m({username:u,nickname:i,email:p,id:_}),f={nickname:[{required:!0,message:"请输入昵称",trigger:"blur"},{pattern:/^\S{2,10}$/,message:"必须是 2-10位 的非空字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}]},s=m(),c=async()=>{await s.value.validate(),await y(a.value),await d(),C({message:"修改成功",type:"success",plain:!0,showClose:!0})};return(z,o)=>{const r=S,n=q,g=N,b=F,E=B,V=R,v=k;return I(),U(v,{title:"信 息"},{default:l(()=>[e(V,null,{default:l(()=>[e(E,{span:12},{default:l(()=>[e(b,{model:a.value,rules:f,ref_key:"formRef",ref:s,"label-width":"100px",size:"large"},{default:l(()=>[e(n,{label:"用 户 :"},{default:l(()=>[e(r,{modelValue:a.value.username,"onUpdate:modelValue":o[0]||(o[0]=t=>a.value.username=t),disabled:""},null,8,["modelValue"])]),_:1}),e(n,{label:"昵 称 :",prop:"nickname"},{default:l(()=>[e(r,{modelValue:a.value.nickname,"onUpdate:modelValue":o[1]||(o[1]=t=>a.value.nickname=t)},null,8,["modelValue"])]),_:1}),e(n,{label:"邮 箱 :",prop:"email"},{default:l(()=>[e(r,{modelValue:a.value.email,"onUpdate:modelValue":o[2]||(o[2]=t=>a.value.email=t)},null,8,["modelValue"])]),_:1}),e(n,null,{default:l(()=>[e(g,{plain:"",color:"#e13d86",onClick:c},{default:l(()=>[x("修 改")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})}}});export{G as default};
