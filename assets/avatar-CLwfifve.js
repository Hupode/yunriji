import{_ as E}from"./PageContainer-g3Xq4fWS.js";import{u as h,r as _,o as r,c as k,b as a,d as o,z as u,f as i,bM as U,E as y,p as C,j as I,g as R}from"./index-emjJvSev.js";import{a as S,E as b}from"./el-col-DIjoE-t_.js";import{_ as x,E as A}from"./_plugin-vue_export-helper-BNTiEJfs.js";import{E as B}from"./el-progress-D-2AO_Pt.js";import"./error-BOtGHGig.js";import"./_baseClone-DkDu17N4.js";import"./isEqual-DAsfhZW4.js";const N=""+new URL("avatar-CQlNaQTu.jpg",import.meta.url).href,j=t=>(C("data-v-8f75c20d"),t=t(),I(),t),V=["src"],L={key:1,src:N},M=j(()=>R("br",null,null,-1)),P=Object.assign({name:"UserAvatar"},{__name:"avatar",setup(t){const l=h(),n=_(),s=_(l.user.user_pic),d=c=>{const e=new FileReader;e.readAsDataURL(c.raw),e.onload=()=>{s.value=e.result}},m=async()=>{await U(s.value),await l.getUserInfo(),y({message:"上传成功",type:"success",plain:!0,showClose:!0})};return(c,e)=>{const f=B,p=A,v=S,g=b,w=E;return r(),k(w,{title:"头 像"},{default:a(()=>[o(g,null,{default:a(()=>[o(v,{span:12},{default:a(()=>[o(f,{ref_key:"uploadRef",ref:n,class:"avatar-uploader","auto-upload":!1,"show-file-list":!1,"on-change":d},{default:a(()=>[s.value?(r(),u("img",{key:0,src:s.value,class:"avatar"},null,8,V)):(r(),u("img",L))]),_:1},512),M,o(p,{plain:"",onClick:e[0]||(e[0]=Q=>n.value.$el.querySelector("input").click())},{default:a(()=>[i("1. 先选择")]),_:1}),o(p,{plain:"",color:"#e13d86",onClick:m},{default:a(()=>[i("2. 再上传")]),_:1})]),_:1})]),_:1})]),_:1})}}}),H=x(P,[["__scopeId","data-v-8f75c20d"]]);export{H as default};
